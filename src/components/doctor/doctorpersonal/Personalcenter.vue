<template>
    <div class="ge" style="height:100%;overflow: auto;">
        <div class="tittle" style="background: rgb(0, 187, 187);color:white">
            <!-- <div class="arrow-icon" @click="tobackdetail">
                <Icon size="30" type="ios-arrow-back" />
            </div> -->
             我的身份
             <!-- <div class="p-switch" :class="{activeswitch:switchstate}" @click="changeswitch">
                 <span class="s-right" :style="{left:switchstate?'25px':'1px'}"></span>
             </div> -->
             <div size="large" class="switchopen" style="right: 160px;color: #777;">
                 医生
             </div>
             <div size="large" class="switchopen" style="right: 100px;"  @click="changestate()">
                 患者
             </div>
             <div size="large" class="switchopen" style="right: 7%;" @click="changeguanl">
                 管理员
             </div>
              <!-- <div size="large" class="switchopen" :class="{'activeswitchopen':visitstatus==true}" @click="ischangestate()">
                {{visitstatus==false?"患者":"医生"}}
                <div class="circle" :class="{'activecircle':visitstatus==true}"></div>
            </div> -->
        </div>
         <div class="content">
              <div class="userssss"  style="padding-left: 5%; border-bottom:1px solid #ccc;">
                <!-- <img src="./../../../assets/avatar.png" alt="" width="50px;" style="vertical-align: top;margin-left:10px;" > -->
                 <img :src="headimgurl" alt="" width="60px;" style="vertical-align: middle;border-radius: 50%;" >
                <div class="user" style="display: inline-block;vertical-align: middle;margin-left:10px;" v-for="(item,index) in docxiang" :key="index" >
                    <p><span>医生姓名：</span><span>{{ysdocname}}</span></p>
                    <p><span>所属科室：</span><span>{{ysdepname}}</span></p>
                    <p><span>医生职位：</span><span>{{item.job}}</span></p>
                    <p><span>医生职称：</span><span>{{item.title}}</span></p>
                </div>
                <div style="position: absolute;right: 7%;top: 35px;" @click="goMaxCard()">
                  <svg t="1565246373675" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6630" width="40" height="40"><path d="M424.3 426.8V101.4H99v325.4h59.2V486h59.2v-59.2h206.9z m-266.2-59.2v-207h207v207h-207z" fill="#00BBBB" p-id="6631"></path><path d="M217.3 219.7H306v88.7h-88.7v-88.7z m384.5-118.3v325.4h325.4V101.4H601.8zM868 367.6H661v-207h207v207z" fill="#00BBBB" p-id="6632"></path><path d="M720.1 219.7h88.7v88.7h-88.7v-88.7zM99 485.9h59.2v59.2H99v-59.2z m118.3 0h59.2v59.2h-59.2v-59.2z" fill="#00BBBB" p-id="6633"></path><path d="M276.4 604.2H99v325.4h325.4V604.2h-88.7V545h-59.2v59.2z m88.8 59.2v207h-207v-207h207z" fill="#00BBBB" p-id="6634"></path><path d="M217.3 722.5H306v88.7h-88.7v-88.7zM483.5 131h59.2v88.7h-59.2V131z m0 147.9h59.2V338h-59.2v-59.1z m0 118.3h59.2v88.7h-59.2v-88.7z m-147.9 88.7h147.9v59.2H335.6v-59.2z m382.9-3.8c-132.1 0-239.1 107-239.1 239.1s107 239.1 239.1 239.1 239.1-107 239.1-239.1-107-239.1-239.1-239.1z m138.2 337.2c0 35.7-68.4 43.8-132.6 43.8s-133.4-8.2-133.4-43.8v-9.9c0-26.3 47.3-52.9 87.5-67.3 3-1 16.9-8.7 9-29.1-20-20.4-35-53.4-35-85.9 0-49.8 32.9-75.9 71.5-75.9 38.5 0 71.7 26.1 71.7 75.9 0 32.4-15.1 65.2-35 85.8h0.2c-7.7 23.1 4.5 28.7 6.4 29.2 42.3 13.9 89.8 40.4 89.8 67.3l-0.1 9.9z m28.8-99.8h-26.2l0.1 26c0 7-5.9 12.6-13.2 12.6-7.3 0-13.2-5.6-13.2-12.6v-26.1h-26.6c-7.3 0-13.2-5.6-13.2-12.6s5.9-12.2 13.2-12.2l26.7-0.1v-25.7c0-7 5.9-12.6 13.2-12.6 7.3 0 12.8 5.6 12.8 12.6l0.1 25.7 26.3-0.1c7.3 0 13.2 5.6 13.2 12.6-0.1 6.9-6 12.5-13.2 12.5z" fill="#00BBBB" p-id="6635"></path></svg>
                </div>
              </div>
              <div class="content2" v-for="(item,index) in docxiang" :key="index" style="padding-bottom:0">
                    <!-- <p>
                        <span>所属科室：</span>
                        <span style="position: absolute;right: 7%;top: 20px;">{{ysdepname}}</span>
                    </p>
                    <p>
                        <span>医生职位</span>
                        <span style="position: absolute;right: 7%;top: 20px;">{{item.job}}</span>
                    </p>
                    <p>
                        <span>医生职称</span>
                        <span style="position: absolute;right: 7%;top: 20px;">{{item.title}}</span>
                    </p> -->
                    <p>
                        <span>
                          <svg t="1565246307958" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6242" width="24" height="24"><path d="M513.851167 0c-19.307804 0-38.993942 2.5627-58.98556 7.542391-77.775711 19.330811-129.640671 72.384455-154.816484 156.203282-18.131902 60.385139-17.86349 122.122566-5.439826 183.57752 15.805661 78.161714 46.715275 122.623602 95.871825 182.128093 1.947908 2.353083 4.303547 4.633311 5.396369 7.459311 17.146445 44.23182-20.364838 113.466902-66.171345 129.351808-35.525031 12.318855-70.738192 25.641061-105.096267 40.389687-54.758702 23.509099-107.611676 50.235313-153.727496 86.421149-29.025614 22.779272-56.903446 47.185636-66.204577 82.281207-4.776464 17.993861-4.099042 37.317004-4.449256 56.071367-0.446076 24.258097 9.154144 45.816732 28.813441 62.113204 14.036695 11.645267 46.501823 30.460982 46.501823 30.460982l160.70622-0.306757 275.017983 0 287.75735 0 146.732155 0c0 0 81.821071-56.693828 76.979421-108.960129-0.329764-3.535376-0.089471-4.970743 0-8.521457 0.614792-24.339899-11.564743-47.339014-26.681479-67.244995-24.520119-32.293856-57.62049-56.163394-93.063719-77.640227-67.051994-40.642762-140.2877-69.826867-216.383916-93.142965-30.307603-9.27429-68.670137-27.978806-69.214631-55.838743-0.489533-24.862665 3.35899-47.670056 19.6708-67.89941 40.699001-50.480718 67.013649-109.877844 83.379141-175.003658 14.560738-57.970705 18.116564-116.374704 7.157666-175.398608-11.086714-59.706439-36.569283-110.276628-81.763554-146.352544C604.964422 15.060496 560.545991 0 513.851167 0L513.851167 0 513.851167 0zM513.851167 0" p-id="6243" fill="#00BBBB"></path><path d="M831.785749 179.197284l179.19984 0c7.070752 0 12.799441 5.731246 12.799441 12.804553l0 25.595047c0 7.070752-5.728689 12.796884-12.799441 12.796884L831.785749 230.393769c-7.068195 0-12.799441-5.726133-12.799441-12.796884l0-25.595047C818.98503 184.929808 824.717554 179.197284 831.785749 179.197284z" p-id="6244" fill="#00BBBB"></path><path d="M831.785749 332.798243l179.19984 0c7.070752 0 12.799441 5.726133 12.799441 12.796884l0 25.605272c0 7.070752-5.728689 12.796884-12.799441 12.796884L831.785749 383.997284c-7.068195 0-12.799441-5.726133-12.799441-12.796884l0-25.605272C818.98503 338.524375 824.717554 332.798243 831.785749 332.798243z" p-id="6245" fill="#00BBBB"></path><path d="M780.585429 486.400479l230.40016 0c7.070752 0 12.799441 5.726133 12.799441 12.796884l0 25.602716c0 7.065639-5.728689 12.796884-12.799441 12.796884l-230.40016 0c-7.070752 0-12.799441-5.731246-12.799441-12.796884l0-25.602716C767.785988 492.126612 773.514678 486.400479 780.585429 486.400479z" p-id="6246" fill="#00BBBB"></path><path d="M908.586228 640.002716l102.400639 0c7.070752 0 12.799441 5.726133 12.799441 12.796884l0 25.595047c0 7.073308-5.728689 12.804553-12.799441 12.804553l-102.400639 0c-7.070752 0-12.799441-5.731246-12.799441-12.804553l0-25.595047C895.785509 645.730127 901.515477 640.002716 908.586228 640.002716z" p-id="6247" fill="#00BBBB"></path></svg></span>
                        <span >医生简介</span>
                        <span style="width:55%; text-align: right;position: absolute;right: 7%;top: 20px;" @click="gomodal11">
                            <span class="text" style="width:50%; text-align: right;overflow: hidden;text-overflow:ellipsis;white-space: nowrap;">{{item.expertjob}}</span> 
                            <span>
                                <svg t="1565075218960" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5912" width="20" height="20"><path d="M668.45184 512.03584l-475.17696 433.4592-0.22528 0.22528a39.69024 39.69024 0 0 0 0.22528 56.12032 40.192 40.192 0 0 0 56.64768 0l494.65344-451.31776a39.97184 39.97184 0 0 0 13.14816-8.69888 39.5264 39.5264 0 0 0 11.7248-29.184 39.54176 39.54176 0 0 0-11.6736-30.46912 39.936 39.936 0 0 0-13.29664-8.77056L249.85088 22.13888c-15.64672-15.54944-40.97024-15.54944-56.63232 0l-0.30208 0.29696a39.6288 39.6288 0 0 0 0.30208 56.04352l475.23328 433.55648z" p-id="5913" fill="#8a8a8a"></path></svg>
                            </span>
                        </span>
                    </p>
                    <Modal v-model="modal11" fullscreen title="个人简介"  @on-ok="tomodify()">
                        <div>
                            <Input v-model="value8" @input="descInput" :maxlength="300" type="textarea" :autosize="{minRows: 8,maxRows: 8}" placeholder="个人简介"/>
                            <p class="numberV" style="text-align:right;width:100%">{{txtVal}}/300</p>
                        </div>
                    </Modal>
                </div>
              <div class="content2">
                  
                  <p @click="goMywallet">
                      <span><svg t="1565246062710" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4078" width="24" height="24"><path d="M640 682.6752a85.3248 85.3248 0 0 1 85.3248-85.3504h256V768h-256A85.3248 85.3248 0 0 1 640 682.6752z m384 256A85.3248 85.3248 0 0 1 938.6752 1024H85.3248A85.3248 85.3248 0 0 1 0 938.6752V469.3248A85.3248 85.3248 0 0 1 85.3248 384h853.3504A85.3248 85.3248 0 0 1 1024 469.3248v85.3504H682.6752A85.3248 85.3248 0 0 0 597.3248 640v85.3248a85.3248 85.3248 0 0 0 85.3504 85.3504H1024v128zM0 384v-42.6752C0 294.4 38.4 277.76 85.3248 256L768 0a85.3248 85.3248 0 0 1 85.3248 85.3248v213.3504h-768A85.3248 85.3248 0 0 0 0 384z" fill="#00BBBB" p-id="4079"></path></svg></span>
                      <span>我的收入</span>
                      <span style="position: absolute;right: 7%;top: 20px;"><svg t="1565075218960" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5912" width="20" height="20"><path d="M668.45184 512.03584l-475.17696 433.4592-0.22528 0.22528a39.69024 39.69024 0 0 0 0.22528 56.12032 40.192 40.192 0 0 0 56.64768 0l494.65344-451.31776a39.97184 39.97184 0 0 0 13.14816-8.69888 39.5264 39.5264 0 0 0 11.7248-29.184 39.54176 39.54176 0 0 0-11.6736-30.46912 39.936 39.936 0 0 0-13.29664-8.77056L249.85088 22.13888c-15.64672-15.54944-40.97024-15.54944-56.63232 0l-0.30208 0.29696a39.6288 39.6288 0 0 0 0.30208 56.04352l475.23328 433.55648z" p-id="5913" fill="#8a8a8a"></path></svg></span>
                  </p>
                  <p @click="goDoctorvisit"> 
                      <span>
                          <svg t="1565859850239" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4046" width="20" height="20"><path d="M848.40394 0 178.152232 0c-56.4635 0-102.399104 45.947119-102.399104 102.400384l0 893.671076c0 15.420188 12.500677 27.927261 27.925982 27.927261 1.564664 0 3.089667-0.1612 4.580127-0.406838 1.568502 0.267387 3.154914 0.406838 4.747724 0.406838 6.045 0 12.137337-1.963825 17.263753-5.982311l114.98166-90.562418 114.980381 90.562418c10.13513 7.961489 24.410286 7.961489 34.564607 0l119.307194-93.962971 115.636695 91.072885c10.145365 7.962768 24.416683 7.962768 34.564607 0l114.889546-90.490774 117.088775 92.216637c5.483359 4.317857 12.058016 6.234346 18.506016 5.947768 2.561289 0.772737 5.270984 1.200044 8.084308 1.200044 15.430423 0 27.927261-12.508353 27.927261-27.927261L950.801765 102.399104C950.804323 45.943281 904.868719 0 848.40394 0zM245.892056 170.761979c0-9.381584 7.604546-16.984851 16.984851-16.984851L614.349209 153.777128c9.380305 0 16.984851 7.604546 16.984851 16.984851l0 27.438544c0 9.381584-7.604546 16.984851-16.984851 16.984851L262.876907 215.185374c-9.381584 0-16.984851-7.604546-16.984851-16.984851L245.892056 170.761979zM767.873023 689.478007c0 9.381584-7.604546 16.984851-16.984851 16.984851L262.876907 706.462858c-9.381584 0-16.984851-7.603267-16.984851-16.984851l0-27.438544c0-9.381584 7.604546-16.984851 16.984851-16.984851l488.009985 0c9.380305 0 16.984851 7.603267 16.984851 16.984851L767.871744 689.478007zM767.873023 525.719272c0 9.381584-7.604546 16.984851-16.984851 16.984851L262.876907 542.704123c-9.381584 0-16.984851-7.603267-16.984851-16.984851l0-27.438544c0-9.381584 7.604546-16.984851 16.984851-16.984851l488.009985 0c9.380305 0 16.984851 7.604546 16.984851 16.984851L767.871744 525.719272zM767.873023 361.960537c0 9.381584-7.604546 16.984851-16.984851 16.984851L262.876907 378.945388c-9.381584 0-16.984851-7.604546-16.984851-16.984851l0-27.438544c0-9.381584 7.604546-16.984851 16.984851-16.984851l488.009985 0c9.380305 0 16.984851 7.604546 16.984851 16.984851L767.871744 361.960537z" p-id="4047" fill="#00BBBB"></path></svg>
                      </span>
                      <span>
                          出诊列表
                      </span>
                      <span style="position: absolute;right: 7%;top: 20px;">
                          <svg t="1565075218960" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5912" width="20" height="20"><path d="M668.45184 512.03584l-475.17696 433.4592-0.22528 0.22528a39.69024 39.69024 0 0 0 0.22528 56.12032 40.192 40.192 0 0 0 56.64768 0l494.65344-451.31776a39.97184 39.97184 0 0 0 13.14816-8.69888 39.5264 39.5264 0 0 0 11.7248-29.184 39.54176 39.54176 0 0 0-11.6736-30.46912 39.936 39.936 0 0 0-13.29664-8.77056L249.85088 22.13888c-15.64672-15.54944-40.97024-15.54944-56.63232 0l-0.30208 0.29696a39.6288 39.6288 0 0 0 0.30208 56.04352l475.23328 433.55648z" p-id="5913" fill="#8a8a8a"></path></svg>
                      </span>
                  </p>
                  <p @click="goHistoricpatients"> 
                      <span>
                          <svg t="1565077011898" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8409" width="24" height="24"><path d="M760.942769 955.677938 346.126158 955.677938c-71.477938 0-129.628336-58.150398-129.628336-129.628336L216.497822 198.36586c0-71.477938 58.151421-129.628336 129.628336-129.628336l414.81661 0c71.477938 0 129.628336 58.151421 129.628336 129.628336l0 627.683742C890.571105 897.52754 832.420707 955.677938 760.942769 955.677938zM346.126158 109.669772c-48.906873 0-88.696088 39.789215-88.696088 88.696088l0 627.683742c0 48.906873 39.789215 88.696088 88.696088 88.696088l414.81661 0c48.906873 0 88.696088-39.789215 88.696088-88.696088L849.638857 198.36586c0-48.906873-39.789215-88.696088-88.696088-88.696088L346.126158 109.669772z" p-id="8410" fill="#00BBBB"></path><path d="M477.639424 214.856439l151.790078 0 0 21.180392-151.790078 0 0-21.180392Z" p-id="8411" fill="#00BBBB"></path><path d="M542.944779 154.184615l21.180392 0 0 151.790078-21.180392 0 0-151.790078Z" p-id="8412" fill="#00BBBB"></path><path d="M741.503021 378.543476c0 7.193843-5.487991 13.024641-12.259208 13.024641L377.825115 391.568117c-6.770194 0-12.259208-5.831822-12.259208-13.024641l0 0c0-7.193843 5.487991-13.024641 12.259208-13.024641l351.418698 0C736.014007 365.517811 741.503021 371.349633 741.503021 378.543476L741.503021 378.543476z" p-id="8413" fill="#00BBBB"></path><path d="M741.503021 566.160527c0 7.193843-5.487991 13.024641-12.259208 13.024641L377.825115 579.185168c-6.770194 0-12.259208-5.831822-12.259208-13.024641l0 0c0-7.193843 5.487991-13.024641 12.259208-13.024641l351.418698 0C736.014007 553.135886 741.503021 558.967708 741.503021 566.160527L741.503021 566.160527z" p-id="8414" fill="#00BBBB"></path><path d="M741.503021 752.836137c0 7.193843-5.487991 13.024641-12.259208 13.024641L377.825115 765.860778c-6.770194 0-12.259208-5.831822-12.259208-13.024641l0 0c0-7.193843 5.487991-13.024641 12.259208-13.024641l351.418698 0C736.014007 739.810472 741.503021 745.642295 741.503021 752.836137L741.503021 752.836137z" p-id="8415" fill="#00BBBB"></path></svg>
                      </span>
                      <span>
                          挂号患者列表
                      </span>
                      <span style="position: absolute;right: 7%;top: 20px;">
                          <svg t="1565075218960" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5912" width="20" height="20"><path d="M668.45184 512.03584l-475.17696 433.4592-0.22528 0.22528a39.69024 39.69024 0 0 0 0.22528 56.12032 40.192 40.192 0 0 0 56.64768 0l494.65344-451.31776a39.97184 39.97184 0 0 0 13.14816-8.69888 39.5264 39.5264 0 0 0 11.7248-29.184 39.54176 39.54176 0 0 0-11.6736-30.46912 39.936 39.936 0 0 0-13.29664-8.77056L249.85088 22.13888c-15.64672-15.54944-40.97024-15.54944-56.63232 0l-0.30208 0.29696a39.6288 39.6288 0 0 0 0.30208 56.04352l475.23328 433.55648z" p-id="5913" fill="#8a8a8a"></path></svg>
                      </span>
                  </p>
                  <p @click="goCommentinformation">
                      <span>
                          <svg t="1565078166835" class="icon" viewBox="0 0 1248 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10103" width="24" height="24"><path d="M1161.368792 0H87.417572A88.883788 88.883788 0 0 0 0.002938 89.618364v650.835008a88.883788 88.883788 0 0 0 87.414634 89.618364h395.936873l141.038737 193.928264 141.038738-193.928264h395.936872A88.149211 88.149211 0 0 0 1248.783426 740.453372V89.618364A88.149211 88.149211 0 0 0 1161.368792 0zM257.104803 528.160689a113.124821 113.124821 0 0 1 0-226.249642 113.124821 113.124821 0 0 1 0 226.249642z m367.288379 0A113.124821 113.124821 0 1 1 734.579696 415.035868a111.655667 111.655667 0 0 1-110.186514 113.124821z m367.288379 0A113.124821 113.124821 0 1 1 1101.868075 415.035868a111.655667 111.655667 0 0 1-110.186514 113.124821z" p-id="10104" fill="#00BBBB"></path></svg>
                      </span>
                      <span>评论中心</span>
                      <span style="position: absolute;right: 7%;top: 20px;">
                          <svg t="1565075218960" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5912" width="20" height="20"><path d="M668.45184 512.03584l-475.17696 433.4592-0.22528 0.22528a39.69024 39.69024 0 0 0 0.22528 56.12032 40.192 40.192 0 0 0 56.64768 0l494.65344-451.31776a39.97184 39.97184 0 0 0 13.14816-8.69888 39.5264 39.5264 0 0 0 11.7248-29.184 39.54176 39.54176 0 0 0-11.6736-30.46912 39.936 39.936 0 0 0-13.29664-8.77056L249.85088 22.13888c-15.64672-15.54944-40.97024-15.54944-56.63232 0l-0.30208 0.29696a39.6288 39.6288 0 0 0 0.30208 56.04352l475.23328 433.55648z" p-id="5913" fill="#8a8a8a"></path></svg>
                      </span>
                  </p>
                  <p style=" border-bottom: 5px solid #ddd;" @click="goConcernedpatients">
                      <span>
                          <svg t="1565078297411" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10938" width="24" height="24"><path d="M479.6416 847.6672c-134.81472-65.87392-328.35584-294.3488-330.0608-296.48384-38.79424-46.44352-57.12384-103.9872-51.79392-161.96608 5.00736-54.34368 30.58688-104.30976 70.02112-136.97536 41.56416-34.48832 152.2944-70.6816 220.39552 2.56l76.73344 77.7216c7.7824 7.79776 17.58208 11.8528 29.30688 12.06784a40.63232 40.63232 0 0 0 28.98944-12.91776l76.5184-82.31936c69.06368-74.19904 169.34912-78.15168 235.53024-6.9376 33.8944 36.51584 80.25088 123.63264 38.5792 218.33216-8.94976 20.50048 0.21504 44.30848 20.67456 53.38624 20.35712 9.07264 44.23168-0.32256 53.28896-20.71552 51.36896-116.5824 10.12736-237.76256-53.39136-306.2016-47.0016-50.60608-107.7504-78.3616-171.05408-78.3616-66.7136 0-131.72736 30.32064-182.77376 85.1968L492.7488 245.62176l-46.25408-46.8736c-96.768-104.0896-253.85984-72.064-330.16832-8.8576C60.38016 236.22656 24.24832 306.15552 17.32096 381.8496c-7.35232 79.64672 17.5872 158.22848 70.4512 221.43488 8.30976 9.92768 206.43328 243.74272 356.59264 317.19424a40.05888 40.05888 0 0 0 17.69472 4.06016 40.41728 40.41728 0 0 0 36.34176-22.74304c9.58976-20.17792 1.28-44.41088-18.75968-54.12864z m441.7536-193.4592h-148.45952v-139.21792c0-22.31808-18.11456-40.46848-40.39168-40.46848-22.37952 0-40.39168 18.1504-40.39168 40.46848v139.21792h-157.94176c-22.272 0-40.3968 18.1504-40.3968 40.46336s18.1248 40.46336 40.3968 40.46336h157.94176v148.72576c0 22.31296 18.11968 40.46336 40.3968 40.46336 22.3744 0 40.38656-18.1504 40.38656-40.46336V735.1296h148.45952c22.37952 0 40.39168-18.1504 40.39168-40.46336s-18.11968-40.46336-40.3968-40.46336z" p-id="10939" fill="#00BBBB"></path></svg>
                      </span>
                      <span>关注的患者</span>
                       <span style="position: absolute;right: 7%;top: 20px;">
                          <svg t="1565075218960" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5912" width="20" height="20"><path d="M668.45184 512.03584l-475.17696 433.4592-0.22528 0.22528a39.69024 39.69024 0 0 0 0.22528 56.12032 40.192 40.192 0 0 0 56.64768 0l494.65344-451.31776a39.97184 39.97184 0 0 0 13.14816-8.69888 39.5264 39.5264 0 0 0 11.7248-29.184 39.54176 39.54176 0 0 0-11.6736-30.46912 39.936 39.936 0 0 0-13.29664-8.77056L249.85088 22.13888c-15.64672-15.54944-40.97024-15.54944-56.63232 0l-0.30208 0.29696a39.6288 39.6288 0 0 0 0.30208 56.04352l475.23328 433.55648z" p-id="5913" fill="#8a8a8a"></path></svg>
                      </span>
                  </p>
                  <p style=" border-bottom: 5px solid #ddd;" @click="goReplylist">
                      <span>
                          <svg t="1565078297411" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10938" width="24" height="24"><path d="M479.6416 847.6672c-134.81472-65.87392-328.35584-294.3488-330.0608-296.48384-38.79424-46.44352-57.12384-103.9872-51.79392-161.96608 5.00736-54.34368 30.58688-104.30976 70.02112-136.97536 41.56416-34.48832 152.2944-70.6816 220.39552 2.56l76.73344 77.7216c7.7824 7.79776 17.58208 11.8528 29.30688 12.06784a40.63232 40.63232 0 0 0 28.98944-12.91776l76.5184-82.31936c69.06368-74.19904 169.34912-78.15168 235.53024-6.9376 33.8944 36.51584 80.25088 123.63264 38.5792 218.33216-8.94976 20.50048 0.21504 44.30848 20.67456 53.38624 20.35712 9.07264 44.23168-0.32256 53.28896-20.71552 51.36896-116.5824 10.12736-237.76256-53.39136-306.2016-47.0016-50.60608-107.7504-78.3616-171.05408-78.3616-66.7136 0-131.72736 30.32064-182.77376 85.1968L492.7488 245.62176l-46.25408-46.8736c-96.768-104.0896-253.85984-72.064-330.16832-8.8576C60.38016 236.22656 24.24832 306.15552 17.32096 381.8496c-7.35232 79.64672 17.5872 158.22848 70.4512 221.43488 8.30976 9.92768 206.43328 243.74272 356.59264 317.19424a40.05888 40.05888 0 0 0 17.69472 4.06016 40.41728 40.41728 0 0 0 36.34176-22.74304c9.58976-20.17792 1.28-44.41088-18.75968-54.12864z m441.7536-193.4592h-148.45952v-139.21792c0-22.31808-18.11456-40.46848-40.39168-40.46848-22.37952 0-40.39168 18.1504-40.39168 40.46848v139.21792h-157.94176c-22.272 0-40.3968 18.1504-40.3968 40.46336s18.1248 40.46336 40.3968 40.46336h157.94176v148.72576c0 22.31296 18.11968 40.46336 40.3968 40.46336 22.3744 0 40.38656-18.1504 40.38656-40.46336V735.1296h148.45952c22.37952 0 40.39168-18.1504 40.39168-40.46336s-18.11968-40.46336-40.3968-40.46336z" p-id="10939" fill="#00BBBB"></path></svg>
                      </span>
                      <span>消息列表</span>
                       <span style="position: absolute;right: 7%;top: 20px;">
                          <svg t="1565075218960" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5912" width="20" height="20"><path d="M668.45184 512.03584l-475.17696 433.4592-0.22528 0.22528a39.69024 39.69024 0 0 0 0.22528 56.12032 40.192 40.192 0 0 0 56.64768 0l494.65344-451.31776a39.97184 39.97184 0 0 0 13.14816-8.69888 39.5264 39.5264 0 0 0 11.7248-29.184 39.54176 39.54176 0 0 0-11.6736-30.46912 39.936 39.936 0 0 0-13.29664-8.77056L249.85088 22.13888c-15.64672-15.54944-40.97024-15.54944-56.63232 0l-0.30208 0.29696a39.6288 39.6288 0 0 0 0.30208 56.04352l475.23328 433.55648z" p-id="5913" fill="#8a8a8a"></path></svg>
                      </span>
                  </p>
                  <p @click="gosettingup">
                      <span>
                          <svg t="1574143488421" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4074" width="24" height="24"><path d="M512.005103 0C229.242574 0 0.012757 229.224714 0.012757 511.992346c0 282.767632 229.229817 512.007654 511.992346 512.007654 282.767632 0 511.98214-229.245125 511.98214-512.007654C1023.987243 229.229817 794.767632 0 512.005103 0zM861.057162 546.991952c0 19.30872-15.66027 39.806375-35.004709 39.806375l-61.370501 0c-5.786493 12.465963-13.925343 38.367406-24.406345 56.844382l43.419106 40.928975c13.690617 13.690617 13.823288 35.841556 0.173493 49.501557l-49.190291 49.476044c-13.665104 13.660001-35.183305 13.660001-48.868819-0.025514l-42.138322-43.342565c-18.487181 10.486105-44.403933 18.701495-56.869895 24.487988l0 61.370501c0 19.359747-20.507861 35.020017-39.816581 35.020017L477.005496 861.059713c-19.30872 0-39.801273-15.66027-39.801273-35.004709l0-61.370501c-12.465963-5.786493-38.387817-13.925343-56.85969-24.411447l-40.928975 43.419106c-13.685515 13.690617-35.851762 13.828391-49.501557 0.178595l-49.476044-49.190291c-13.665104-13.665104-13.665104-35.183305 0.025514-48.868819l43.347668-42.148527c-10.470796-18.476975-18.686187-44.393727-24.47268-56.85969L197.962856 586.80343c-19.359747 0-35.020017-20.502758-35.020017-39.816581L162.942838 477.002945c0-19.30872 15.66027-39.801273 35.020017-39.801273l61.355193 0c5.78139-12.465963 13.915137-38.387817 24.411447-56.85969l-43.419106-40.928975c-13.690617-13.700823-13.813083-35.851762-0.163287-49.501557l49.180085-49.491352c13.649795-13.660001 35.19351-13.660001 48.884127 0.025514l42.133219 43.342565c18.476975-10.481002 44.393727-18.686187 56.85969-24.467577L437.204224 197.950099c0-19.344439 20.492553-35.004709 39.816581-35.004709l69.968596 0c19.30872 0 39.806375 15.66027 39.806375 35.004709l0 61.360295c12.465963 5.78139 38.398023 13.925343 56.844382 24.411447l40.928975-43.408901c13.690617-13.675309 35.841556-13.823288 49.501557-0.163287l49.481146 49.180085c13.675309 13.665104 13.660001 35.19351-0.025514 48.884127l-43.342565 42.123014c10.49631 18.471873 18.696393 44.403933 24.482885 56.869895l61.370501 0c19.359747 0 35.020017 20.492553 35.020017 39.816581L861.057162 546.991952z" p-id="4075" fill="#00BBBB"></path><path d="M512 354.547696c-86.950473 0-157.434444 70.483972-157.434444 157.439547 0 86.940267 70.483972 157.424239 157.434444 157.424239 86.965781 0 157.439547-70.483972 157.439547-157.424239C669.434444 425.031668 598.965781 354.547696 512 354.547696z" p-id="4076" fill="#00BBBB"></path></svg>
                      </span>
                      <span>设置</span>
                      <span style="position: absolute;right: 7%;top: 20px;">
                          <svg t="1565075218960" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5912" width="20" height="20"><path d="M668.45184 512.03584l-475.17696 433.4592-0.22528 0.22528a39.69024 39.69024 0 0 0 0.22528 56.12032 40.192 40.192 0 0 0 56.64768 0l494.65344-451.31776a39.97184 39.97184 0 0 0 13.14816-8.69888 39.5264 39.5264 0 0 0 11.7248-29.184 39.54176 39.54176 0 0 0-11.6736-30.46912 39.936 39.936 0 0 0-13.29664-8.77056L249.85088 22.13888c-15.64672-15.54944-40.97024-15.54944-56.63232 0l-0.30208 0.29696a39.6288 39.6288 0 0 0 0.30208 56.04352l475.23328 433.55648z" p-id="5913" fill="#8a8a8a"></path></svg>
                      </span>
                  </p>
              </div>
              <p style="text-align: center;border:0;padding-bottom: 40px;"  class="butn"><span class="btn" @click="modalispayment">退出登陆</span> </p>
              <Modal v-model="ispayment"  @on-ok="quite" title="提示信息">
                <p>您确认要退出吗</p>
              </Modal>
              <!-- <Modal v-model="statemodel"  @on-ok="changestate" title="提示信息">
                    <p>请确认是否切换！</p>
                </Modal> -->
         </div>
    </div>
</template>

<script>
import {requestpatients,changedoctorstate,fetchdoctorstate} from "./../js/registeredist"
import {hidemenu} from "../../../common/js/hide"
    export default {
        name:'Personalcenter',
        data(){
            return {
                switchstate:true,
                 active:true,
                 ysdocname:'',
                 ysdoccode:'',
                 ysdepname:'',
                 ispayment:false,
                 updatedtai:false,
                 statemodel:false,
                 visitstatus:true,
                 docxiang:[],
                 modal11:false,
                 //医生简介
                 value8:'',
                 txtVal:0,
                 //科室名称
                 ysdepname:'',
                 headimgurl:''
            }
        },
        methods:{
            //修改个人简介
            tomodify(){
                var that = this;
                var url = that.$store.getters.getUrl + "doctors/updateDoctorInfo.do";
                //医生编码
                var doccode=localStorage.getItem('ysdoccode');
                //修改内容
                var expertjob = that.value8;
                if(expertjob!=''&& that.value8!=that.docxiang[0].expertjob){
                     let ajaxTimeOut = $.ajax({
                        url: url,
                        type: "post",
                        dataType: "json",
                        timeout: 15000, //通过timeout属性，设置超时时间
                        data: {
                        doctorno: doccode,
                        expertjob:expertjob
                        },
                        success:function(data){
                            if(data.status==1){
                                 that.$Message.info('修改成功！')
                                $('.text').html(that.value8);
                                that.docxiang[0].expertjob=that.value8;
                            }else{
                                that.$Modal.error({
                                    title:"提示信息",
                                    content:'修改医生简介失败！'
                                })
                            }
                        },
                        error:function(data){
                            that.$Modal.error({
                                title:"提示信息",
                                content:'修改异常请重试。'
                            })
                        },
                        complete: function (XMLHttpRequest, status) { //当请求完成时调用函数
                            if (status == 'timeout') {//status == 'timeout'意为超时,status的可能取值：success,notmodified,nocontent,error,timeout,abort,parsererror 
                            ajaxTimeOut.abort(); //取消请求
                            
                            that.$Modal.warning({     //超时提示：网络不稳定
                                title: '友情提示',
                                content: '请求超时',
                            });
                            }
                        } 
                    })
                }
               
            },
            //限制字数
            descInput() {
                this.txtVal = this.value8.length;
            },
            //修改个人简介
            gomodal11(){
                this.modal11=true;
                this.value8 = $('.text').html();
                this.txtVal = this.value8.length;
            },
            //查询医生详细信息
            doctorxinxi(){
              var that = this;
              var url = that.$store.getters.getUrl + "doctors/getdoctor.do";
              //医生编码
              var doccode=localStorage.getItem('ysdoccode');
              let ajaxTimeOut = $.ajax({
                url: url,
                type: "post",
                dataType: "json",
                timeout: 15000, //通过timeout属性，设置超时时间
                data: {
                  doccode: doccode
                },
                success:function(data){
                  that.isshowloading = false;
                  if(data.status==1){
                    that.docxiang=data.data;
                  }else if(data.status==-1){
                    _this.$router.push("/abnormal");
                  }
                },
                error:function(data){
                    that.isshowloading = false;
                },
                complete: function (XMLHttpRequest, status) { //当请求完成时调用函数
                    if (status == 'timeout') {//status == 'timeout'意为超时,status的可能取值：success,notmodified,nocontent,error,timeout,abort,parsererror 
                        ajaxTimeOut.abort(); //取消请求
                        
                        that.$Modal.warning({     //超时提示：网络不稳定
                            title: '友情提示',
                            content: '请求超时',
                        });
                    }
                } 
              })
            },
            //切换管理员身份
            changeguanl(){
                var that  = this;
                var url = that.$store.getters.getUrl +'admin/doctor/loginByIdNo.do';
                var index = that.index;
                var idNo = localStorage.getItem('idno');
                $.ajax({
                  url: url,
                  type: "post",
                  dataType: "json",
                  async: false,
                  data: {idNo},
                  success: function(data){
                       that.spinShow=false;
                       if(data.code==200&&data.data.adminLevel<5){
                          localStorage.setItem('Administrator',JSON.stringify(data.data));
                          that.$router.push('/admin');
                      }else{
                      that.$Modal.warning({
                          title: '提示警告',
                          content: '抱歉您并不是管理员，请勿操作'
                      });
                      }
                  },
                  error:function(data){
                      that.spinShow=false;
                  }
                })
            },
            //切换患者身份
            changestate(){
            this.visitstatus=!this.visitstatus
            if(this.visitstatus==false){
                this.$router.push('/Myaccount');
            }
            },
            // //弹出层
            // ischangestate(){
            // this.statemodel=true;
            // },
            changeswitch(){
                this.switchstate=!this.switchstate
            },
              //返回上一层
            tobackdetail(){
              this.$router.push('/registeredlist')
            },
            goDoctorvisit(){
                this.$router.push("/doctorvisit")
            },
            //前往医生简介页面
            goPersonalprofile(){
                this.$router.push('/Personalprofile');
            },
            goHistoricpatients(){
                this.$router.push('/registeredlist');
            },
            //前往评论
            goCommentinformation(){
                this.$router.push('/Commentinformation');
            },
            //前往关注
            goConcernedpatients(){
                 this.$router.push('/Concernedpatients');
            },
            //我的二维码
            goMaxCard(){
                let _this=this
                var url = _this.$store.getters.getUrl + "getDoctorSourceInfo.do";
                var doccode= localStorage.ysdoccode;
                 let ajaxTimeOut =$.ajax({
                    url: url,
                    type: "post",
                    dataType: "json",
                    timeout: 15000, //通过timeout属性，设置超时时间
                    data: {docCode:doccode},
                    success: function(data) {
                    if(data.status==1){
                        localStorage.setItem('QBdepName',data.data[0].deptname);
                        localStorage.setItem('QBdeptCode',data.data[0].deptcode);
                        _this.$router.push('/MaxCard');
                    }else if(data.status==-1){
                        _this.$router.push("/abnormal");
                    }else{
                        _this.$Modal.warning({
                            title: "提示信息",
                            content: "暂无二维码"
                        });
                    }
                    
                    },
                    error: function(data) {
                        _this.$Modal.warning({
                            title: "提示信息",
                            content: "二维码请求异常，请重新请求"
                        });
                    },
                    complete: function (XMLHttpRequest, status) { //当请求完成时调用函数
                        if (status == 'timeout') {//status == 'timeout'意为超时,status的可能取值：success,notmodified,nocontent,error,timeout,abort,parsererror 
                        ajaxTimeOut.abort(); //取消请求
                        
                        _this.$Modal.warning({     //超时提示：网络不稳定
                            title: '友情提示',
                            content: '请求超时',
                        });
                        }
                    } 
                })
               
            },
            //我的钱包
            goMywallet(){
                this.$router.push('/Mywallet');
            },
            modalispayment(){
                this.ispayment=true;
            },
            //退出登录
            quite(){
                let _this=this
                var url = _this.$store.getters.getUrl + "doctor/DoctorSignOut.do";
                var doccode= localStorage.ysdoccode;
                   let ajaxTimeOut = $.ajax({
                        url: url,
                        type: "post",
                        dataType: "json",
                        timeout: 15000, //通过timeout属性，设置超时时间
                        data: {doccode:doccode},
                        success: function(data) {
                            if(data=='1'){
                                _this.$router.push('/doctorlogin')
                            }
                        },
                            error: function(data) {
                        },
                        complete: function (XMLHttpRequest, status) { //当请求完成时调用函数
                            if (status == 'timeout') {//status == 'timeout'意为超时,status的可能取值：success,notmodified,nocontent,error,timeout,abort,parsererror 
                            ajaxTimeOut.abort(); //取消请求
                            
                            _this.$Modal.warning({     //超时提示：网络不稳定
                                title: '友情提示',
                                content: '请求超时',
                            });
                            }
                        } 
                    });
            },
            //请求医生信息生成二维码
            DoctorSourceInfo(){
               
            },
            //前往消息列表
            goReplylist(){
                this.$router.push('/Replylist');
            },
            //前往设置’‘
            gosettingup(){
                this.$router.push('/settingup');
            }
        },
        created(){
             let that=this
             this.ysdocname = localStorage.getItem('ysdocname');
             this.ysdoccode =  localStorage.getItem('ysdoccode');
             this.ysdepname =  localStorage.getItem('ysdepname');
             const requesturl=that.$store.getters.getUrl + "SweepCode.do";
             hidemenu(requesturl);
             //获取医生详情
            this.doctorxinxi();
            //科室名称
            this.ysdepname = localStorage.getItem('ysdepname');
        },
        mounted(){
            if(localStorage.getItem("user")!=null&&JSON.parse(localStorage.getItem("user")).headimgurl!=undefined){
                var headimgurl= JSON.parse(localStorage.getItem("user")).headimgurl;
                this.headimgurl  = headimgurl.substring(1,headimgurl.length-1); 
            }
        }
    }
</script>

<style scoped>

.p-switch{
    position: absolute;
    right: 5px;
    top: 14px;
    width: 44px;
    height: 22px;
    line-height: 20px;
    border-radius: 22px;
    vertical-align: middle;
    background-color: #ccc;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    transition: all .2s ease-in-out;
}
.activeswitch{
    background: #2d8cf0
}
.p-switch span{
    content: "";
    width: 18px;
    height: 18px;
    border-radius: 18px;
    background-color: #fff;
    position: absolute;
    top: 2px;
    cursor: pointer;
    transition: left .2s ease-in-out,width .2s ease-in-out;
}
span.s-right{
    
}
.tittle {
  height: 50px;
  /* text-align: center; */
  line-height: 50px;
  font-size: 4.2vw;
  font-family: PingFangSC-regular;
  position: relative;
  padding-left: 28px
}
.arrow-icon{
  position: absolute;
  left: 5px;
  top: 0px;
}
.userssss{
    padding: 10px 0;
    position: relative;
}
.user{
    padding-left: 10px;
    
}
.user p {
    color: rgb(0, 0, 0);
        line-height: 1.7;
    /* font-weight: 600;
    font-size: 14px;
     */
   
}
.content{
    /* padding:10px 0 */
}
.content2{
    border-top: 1px solid #ddd;
    padding-bottom: 50px;
    /* font-size: 14px; */
}
.content2 p{
     position: relative;
}
.content2 p svg {
  vertical-align: middle;
}
.content2 p span {
  display: inline-block;
  vertical-align: middle;
  padding-left: 10px;
}
.content2 p {
  padding: 18px 10% 18px 10%;
  border-bottom: 1px solid #aaa;
  color: black;
}
.content2 p span:nth-child(2){
        padding-left: 4vw;
}
/* 开关 */
.switchopen{
  height: 25px;
  /* width: 70px; */
  border-radius: 15px;
  /* background: #2d8cf0; */
  line-height: 25px;
  font-size: 4.2vw;
  text-align: left;
  /* padding: 0 10px; */
  position: absolute;
  top: 12px;
  right: 10px;
}
.circle{
  width: 19px;
  height: 19px;
  border-radius: 50%;
  background: rgb(255,255,255);
  position: absolute;
  top: 3px;
  right:4px;
}
.activecircle{
  left: 4px;
}
.activeswitchopen{
  text-align: right;
  /* background:rgb(33, 106, 179); */
} 
.content1{
    display: -webkit-flex;
    display: flex;
    -webkit-justify-content: space-around;
    justify-content: space-around;
    width: 100%;
    border-top: 5px solid #ddd;
    padding: 10px 0;
}
.Ninthpalace{
    display: inline-block;
    padding: 10px;
    text-align: center;
}
.btn{
    display: inline-block;
    width: 60%;
    background: rgb(0, 187, 187);
    color:white;
    padding: 10px 0;
    border-radius: 30px;
    font-size: 16px;
}
</style>